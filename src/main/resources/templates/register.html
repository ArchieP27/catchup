<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Join CatchUp</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <link rel="icon" type="image/png" th:href="@{/images/logo.png}" />
    <link th:href="@{/css/register.css}" rel="stylesheet" />
  </head>
  <body>
    <div class="auth-nav">
      <div class="logo-area">
        <img th:src="@{/images/logo.png}" class="img-icon-main" alt="Logo" />
        <h2 class="m-0">CatchUp</h2>
      </div>
    </div>

    <div class="auth-container">
      <div class="auth-card">
        <h3 class="text-center mb-4" style="color: #455a64; font-weight: 800">
          Create Account
        </h3>

        <div th:if="${successMessage}" class="alert alert-success" role="alert">
          <span th:text="${successMessage}"></span>
          <div class="mt-2">
            <a
              th:href="@{/login}"
              style="text-decoration: underline; font-weight: 800"
              >Click here to Login</a
            >
          </div>
        </div>

        <div
          th:if="${errorMessage}"
          class="alert alert-danger"
          role="alert"
          th:text="${errorMessage}"
        ></div>

        <form th:action="@{/register}" th:object="${user}" method="post">
          <div th:if="${#fields.hasAnyErrors()}" class="alert alert-danger">
            <ul class="mb-0">
              <li th:each="err : ${#fields.allErrors()}" th:text="${err}"></li>
            </ul>
          </div>

          <div class="mb-3">
            <label class="form-label">Username</label>
            <input
              type="text"
              th:field="*{username}"
              class="form-control"
              required
              placeholder="Choose a username"
            />
          </div>
          <div class="mb-4">
            <label class="form-label">Password</label>
            <input
              type="password"
              th:field="*{password}"
              class="form-control"
              required
              placeholder="Create a password"
            />
          </div>
          <button type="submit" class="btn btn-signup w-100">Sign Up</button>
        </form>

        <div class="text-center mt-4">
          <span style="color: #78909c; font-weight: 600">
            Already have an account? <a th:href="@{/login}">Login here</a>
          </span>
        </div>
      </div>
    </div>
  </body>
</html>
